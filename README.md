# Match3 Game Engine üíé

–ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫ Match-3 –¥–ª—è Flutter —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Flame Game Engine.

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**. UI —ç–∫—Ä–∞–Ω—ã (–º–µ–Ω—é, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Ç.–¥.) –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Å–∞–º–∏ –≤ —Å–≤–æ–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä UI –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø–∞–ø–∫–µ `example/`.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```dart
Match3GameWidget(
  rows: 8,
  columns: 8,
  timeLimit: 60.0,        // 60 —Å–µ–∫—É–Ω–¥ (–∏–ª–∏ null –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∏–≥—Ä—ã)
  targetScore: 1000,      // –¶–µ–ª—å (–∏–ª–∏ null)
  theme: Match3Theme(     // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ - –µ—Å—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞
    backgroundColor: Color(0xFF2C3E50),
    gemColors: {...},
  ),
  onScoreChanged: (score) => print('Score: $score'),
  onTimeChanged: (time) => print('Time: $time'),
  onGameEnd: (score, moves, result) => print('Game Over: $result'),
)
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ò–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞
- ‚úÖ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≥–µ–π–º–ø–ª–µ–π Match-3
- ‚úÖ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç–∞–ø –∏ —Å–≤–∞–π–ø
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ–º
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è (5x5 –¥–æ 12x12)

### –¢–µ–º—ã –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è
- üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ–Ω–∞ –∏–≥—Ä—ã
- üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∫–∞–º–Ω—è
- üñºÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PNG –∏ SVG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∫–∞–º–Ω–µ–π
- üíæ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- üé® –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–∞–º–Ω–∏
- üî∏ **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –≤–∑—Ä—ã–≤** - –ø—Ä–∏ —Å–æ–±–∏—Ä–∞–Ω–∏–∏ 4 –∫–∞–º–Ω–µ–π –≤ —Ä—è–¥ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
- üîπ **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –≤–∑—Ä—ã–≤** - –ø—Ä–∏ —Å–æ–±–∏—Ä–∞–Ω–∏–∏ 4 –∫–∞–º–Ω–µ–π –≤ —Ä—è–¥ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏  
- üí£ **–ë–æ–º–±–∞ (3x3)** - –ø—Ä–∏ —Å–æ–±–∏—Ä–∞–Ω–∏–∏ 5 –∏ –±–æ–ª–µ–µ –∫–∞–º–Ω–µ–π –≤ —Ä—è–¥

### –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å
- ‚è±Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (60 —Å–µ–∫—É–Ω–¥)
- üéØ –¶–µ–ª—å: –Ω–∞–±—Ä–∞—Ç—å 1000 –æ—á–∫–æ–≤ –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
- üî• –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–±–æ —Å –º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏ –æ—á–∫–æ–≤ (–¥–æ x5)
- üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- üé® –ö—Ä–∞—Å–∏–≤—ã–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∫–∞–º–Ω–∏ 6 —Ü–≤–µ—Ç–æ–≤
- ‚ú® –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
- üåü –≠—Ñ—Ñ–µ–∫—Ç—ã —Å–≤–µ—á–µ–Ω–∏—è –∏ —Ç–µ–Ω–µ–π
- üî• –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∏—Ç–∏–ª—å —Ç–∞–π–º–µ—Ä–∞ —Å –ø–ª–∞–º–µ–Ω–µ–º
- üí´ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –æ—á–∫–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `pubspec.yaml`:

```yaml
dependencies:
  match3: ^1.0.0
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏:

```yaml
dependencies:
  match3:
    path: ../match3
```

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
flutter pub get
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏–¥–∂–µ—Ç –∏ –ø–µ—Ä–µ–¥–∞–π—Ç–µ callbacks:

```dart
import 'package:flutter/material.dart';
import 'package:match3/match3.dart';

class GameScreen extends StatefulWidget {
  const GameScreen({super.key});

  @override
  State<GameScreen> createState() => _GameScreenState();
}

class _GameScreenState extends State<GameScreen> {
  int score = 0;
  int moves = 0;

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Column(
        children: [
          // –í–∞—à UI
          Padding(
            padding: const EdgeInsets.all(20),
            child: Column(
              children: [
                Text('Score: $score'),
                Text('Moves: $moves'),
              ],
            ),
          ),
          
          // –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
          Expanded(
            child: Match3GameWidget(
              rows: 8,
              columns: 8,
              onScoreChanged: (newScore) {
                setState(() => score = newScore);
              },
              onMovesChanged: (newMoves) {
                setState(() => moves = newMoves);
              },
            ),
          ),
        ],
      ),
    );
  }
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–≥—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥:

#### –¢–µ–º–∞ —Å —Ü–≤–µ—Ç–∞–º–∏

```dart
final myTheme = Match3Theme(
  backgroundColor: Color(0xFF1a1a2e),
  gemColors: {
    GemType.red: Color(0xFFFF6B6B),
    GemType.blue: Color(0xFF4ECDC4),
    GemType.green: Color(0xFF95E1D3),
    GemType.yellow: Color(0xFFFFA07A),
    GemType.purple: Color(0xFFB794F4),
    GemType.pink: Color(0xFFFED7E2),
  },
);

Match3GameWidget(theme: myTheme);
```

#### –¢–µ–º–∞ —Å PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

```dart
final pngTheme = Match3Theme(
  backgroundColor: Color(0xFF2C3E50),
  gemImageType: GemImageType.png,
  gemImages: {
    GemType.red: 'assets/gems/red.png',
    GemType.blue: 'assets/gems/blue.png',
    GemType.green: 'assets/gems/green.png',
    GemType.yellow: 'assets/gems/yellow.png',
    GemType.purple: 'assets/gems/purple.png',
    GemType.pink: 'assets/gems/pink.png',
  },
);

Match3GameWidget(theme: pngTheme);
```

#### –¢–µ–º–∞ —Å SVG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

```dart
final svgTheme = Match3Theme(
  backgroundColor: Color(0xFF2C3E50),
  gemImageType: GemImageType.svg,
  gemImages: {
    GemType.red: 'assets/gems/red.svg',
    GemType.blue: 'assets/gems/blue.svg',
    GemType.green: 'assets/gems/green.svg',
    GemType.yellow: 'assets/gems/yellow.svg',
    GemType.purple: 'assets/gems/purple.svg',
    GemType.pink: 'assets/gems/pink.svg',
  },
);

Match3GameWidget(theme: svgTheme);
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫—ç—à–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ callbacks

`Match3GameWidget` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ callbacks:

```dart
Match3Game? gameInstance;

Match3GameWidget(
  rows: 8,
  columns: 8,
  
  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–≥—Ä—É (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
  onGameReady: (game) {
    gameInstance = game;
    // –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å game.endGame('victory') –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
  },
  
  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ—á–∫–æ–≤
  onScoreChanged: (score) {
    print('Score: $score');
    // –ó–∞–≤–µ—Ä—à–∞–µ–º –∏–≥—Ä—É –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 1000 –æ—á–∫–æ–≤
    if (score >= 1000) {
      gameInstance?.endGame('victory');
    }
  },
  
  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ö–æ–¥–æ–≤
  onMovesChanged: (moves) {
    print('Moves: $moves');
  },
  
  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–º–±–æ –º–Ω–æ–∂–∏—Ç–µ–ª—è
  onComboChanged: (combo) {
    print('Combo: x$combo');
    // combo > 1 –æ–∑–Ω–∞—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ –∫–æ–º–±–æ
  },
  
  // –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  onMessage: (message) {
    if (message.isNotEmpty) {
      print('Message: $message');
      // –ù–∞–ø—Ä–∏–º–µ—Ä: "–ù–µ—Ç —Ö–æ–¥–æ–≤! –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º..."
    }
  },
  
  // –û–∫–æ–Ω—á–∞–Ω–∏–µ –∏–≥—Ä—ã
  onGameEnd: (score, moves, result) {
    print('Game Over!');
    print('Score: $score, Moves: $moves, Result: $result');
    // result –º–æ–∂–µ—Ç –±—ã—Ç—å: 'victory', 'defeat', 'timeout', –∏ —Ç.–¥.
    // –ü–æ–∫–∞–∑–∞—Ç—å —ç–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  },
)
```

### –†–µ–∂–∏–º—ã –∏–≥—Ä—ã

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```dart
// –ò–≥—Ä–∞ —Å —Ç–∞–π–º–µ—Ä–æ–º –∏ —Ü–µ–ª—å—é (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º)
Match3GameWidget(
  timeLimit: 60.0,      // 60 —Å–µ–∫—É–Ω–¥
  targetScore: 1000,     // –¶–µ–ª—å: 1000 –æ—á–∫–æ–≤
  onTimeChanged: (time) => print('Time left: $time'),
  onGameEnd: (score, moves, result) {
    // result = 'victory' –µ—Å–ª–∏ –Ω–∞–±—Ä–∞–ª–∏ 1000 –æ—á–∫–æ–≤
    // result = 'timeout' –µ—Å–ª–∏ –≤—Ä–µ–º—è –≤—ã—à–ª–æ
  },
)

// –ò–≥—Ä–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—Ä–µ–º—è (–±–µ–∑ —Ü–µ–ª–µ–≤–æ–≥–æ —Å—á–µ—Ç–∞)
Match3GameWidget(
  timeLimit: 120.0,      // 2 –º–∏–Ω—É—Ç—ã
  targetScore: null,     // –ù–µ—Ç —Ü–µ–ª–∏
  onGameEnd: (score, moves, result) {
    // result = 'timeout' 
    // score - —Å–∫–æ–ª—å–∫–æ —É—Å–ø–µ–ª–∏ –Ω–∞–±—Ä–∞—Ç—å
  },
)

// –ò–≥—Ä–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—á–∫–∏ (–±–µ–∑ —Ç–∞–π–º–µ—Ä–∞)
Match3GameWidget(
  timeLimit: null,       // –ë–µ–∑ –ª–∏–º–∏—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏
  targetScore: 5000,     // –¶–µ–ª—å: 5000 –æ—á–∫–æ–≤
  onGameEnd: (score, moves, result) {
    // result = 'victory'
    // moves - —Å–∫–æ–ª—å–∫–æ —Ö–æ–¥–æ–≤ –ø–æ—Ç—Ä–µ–±–æ–≤–∞–ª–æ—Å—å
  },
)

// –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∏–≥—Ä–∞ (–ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞—Ç—å)
Match3GameWidget(
  timeLimit: null,       // –ë–µ–∑ –ª–∏–º–∏—Ç–∞
  targetScore: null,     // –ë–µ–∑ —Ü–µ–ª–∏
  // –ò–≥—Ä–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è —Å–∞–º–∞
  // –ú–æ–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ game.endGame('custom_reason')
)
```

### –í–∞–∂–Ω–æ

**–ü–∞–∫–µ—Ç –ù–ï —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è Flame –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä—ã –≤—Ä—É—á–Ω—É—é!**

–ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏–¥–∂–µ—Ç:

```dart
// ‚ùå –°–¢–ê–†–´–ô —Å–ø–æ—Å–æ–± (–Ω–µ –Ω—É–∂–Ω–æ)
final game = Match3Game(...);
game.onScoreChanged = ...;
GameWidget(game: game);

// ‚úÖ –ù–û–í–´–ô —Å–ø–æ—Å–æ–± (–ø—Ä–æ—Å—Ç–æ –∏ —É–¥–æ–±–Ω–æ)
Match3GameWidget(
  rows: 8,
  columns: 8,
  onScoreChanged: (score) => ...,
)
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

–ü–∞–∫–µ—Ç —Ç–∞–∫–∂–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Flame –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
- `ScoreProgressBar` - –ø—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –æ—á–∫–æ–≤
- `TimerFuse` - —Ç–∞–π–º–µ—Ä —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- `ScoreDisplay` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ö–æ–¥–æ–≤ –∏ –∫–æ–º–±–æ  
- `MessageDisplay` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

–≠—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –∏–≥—Ä—É –≤—Ä—É—á–Ω—É—é, –Ω–æ –≤ –ø—Ä–∏–º–µ—Ä–µ –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å UI –ø—Ä–æ—â–µ —á–µ—Ä–µ–∑ Flutter –≤–∏–¥–∂–µ—Ç—ã.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞

```
lib/
‚îú‚îÄ‚îÄ match3.dart              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îî‚îÄ‚îÄ src/
    ‚îú‚îÄ‚îÄ widgets/             # Flutter –≤–∏–¥–∂–µ—Ç—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ match3_game_widget.dart
    ‚îú‚îÄ‚îÄ theme/               # –¢–µ–º—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ match3_theme.dart
    ‚îú‚îÄ‚îÄ components/          # Flame –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ gem_component.dart
    ‚îÇ   ‚îú‚îÄ‚îÄ message_display.dart
    ‚îÇ   ‚îú‚îÄ‚îÄ score_display.dart
    ‚îÇ   ‚îú‚îÄ‚îÄ score_progress_bar.dart
    ‚îÇ   ‚îî‚îÄ‚îÄ timer_fuse.dart
    ‚îú‚îÄ‚îÄ game/                # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ board_manager.dart
    ‚îÇ   ‚îú‚îÄ‚îÄ match3_game.dart
    ‚îÇ   ‚îî‚îÄ‚îÄ special_gem_activator.dart
    ‚îî‚îÄ‚îÄ models/              # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
        ‚îú‚îÄ‚îÄ board_position.dart
        ‚îú‚îÄ‚îÄ gem_type.dart
        ‚îú‚îÄ‚îÄ match.dart
        ‚îî‚îÄ‚îÄ special_gem_type.dart

example/
‚îî‚îÄ‚îÄ lib/
    ‚îú‚îÄ‚îÄ main.dart
    ‚îî‚îÄ‚îÄ screens/             # –ü—Ä–∏–º–µ—Ä UI —ç–∫—Ä–∞–Ω–æ–≤
        ‚îú‚îÄ‚îÄ menu_screen.dart
        ‚îú‚îÄ‚îÄ game_screen.dart
        ‚îî‚îÄ‚îÄ game_over_screen.dart
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### Match3GameWidget
**–ì–ª–∞–≤–Ω—ã–π –≤–∏–¥–∂–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–≥—Ä—ã.** –≠—Ç–æ –≤—Å—ë —á—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ!

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `rows` (int, default: 8) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
- `columns` (int, default: 8) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–±—Ü–æ–≤
- `theme` (Match3Theme?, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - —Ç–µ–º–∞ –∏–≥—Ä—ã (—Ñ–æ–Ω –∏ —Ü–≤–µ—Ç–∞ –∫–∞–º–Ω–µ–π)
- `timeLimit` (double?, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (null = –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∏–≥—Ä–∞)
- `targetScore` (int?, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - —Ü–µ–ª–µ–≤–æ–π —Å—á–µ—Ç –¥–ª—è –ø–æ–±–µ–¥—ã (null = –Ω–µ—Ç —Ü–µ–ª–∏)
- `onGameReady` (Function(Match3Game)?) - –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–≥—Ä—ã
- `onTimeChanged` (Function(double)?) - callback –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
- `onScoreChanged` (Function(int)?) - callback –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—á–∫–æ–≤
- `onMovesChanged` (Function(int)?) - callback –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ö–æ–¥–æ–≤
- `onComboChanged` (Function(int)?) - callback –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–º–±–æ
- `onMessage` (Function(String)?) - callback –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- `onGameEnd` (Function(int, int, String)?) - callback –ø—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∏–≥—Ä—ã

–í–∏–¥–∂–µ—Ç —Å–∞–º —Å–æ–∑–¥–∞–µ—Ç –∏–≥—Ä—É –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è - –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é!

### Match3Theme
**–ö–ª–∞—Å—Å —Ç–µ–º—ã –∏–≥—Ä—ã** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ):
- `backgroundColor` (Color, default: `Color(0xFF2C3E50)`) - —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ –∏–≥—Ä—ã
- `gemImageType` (GemImageType, default: `GemImageType.color`) - —Ç–∏–ø –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
  - `GemImageType.color` - —Ü–≤–µ—Ç–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  - `GemImageType.png` - PNG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - `GemImageType.svg` - SVG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `gemColors` (Map<GemType, Color>) - —Ü–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∫–∞–º–Ω—è
- `gemImages` (Map<GemType, String>) - –ø—É—Ç–∏ –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º (–¥–ª—è PNG/SVG)

–ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ü–≤–µ—Ç–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã.

### Match3Game (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)
–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–ª–∞—Å—Å –∏–≥—Ä—ã –Ω–∞ –±–∞–∑–µ FlameGame. –û–±—ã—á–Ω–æ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º –Ω–∞–ø—Ä—è–º—É—é, –Ω–æ –æ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è.

–ü—É–±–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞:
- `score` (int) - —Ç–µ–∫—É—â–∏–π —Å—á–µ—Ç
- `moves` (int) - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–¥–æ–≤
- `combo` (int) - —Ç–µ–∫—É—â–∏–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –∫–æ–º–±–æ

–ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `endGame(String result)` - –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

### BoardManager  
–ú–µ–Ω–µ–¥–∂–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É –¥–æ—Å–∫–∏: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –ø–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π, –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ.

### GemComponent
–í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥—Ä–∞–≥–æ—Ü–µ–Ω–Ω–æ–≥–æ –∫–∞–º–Ω—è —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏.

### Flame –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `ScoreProgressBar` - –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –æ—á–∫–æ–≤
- `TimerFuse` - —Ç–∞–π–º–µ—Ä —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π –ø–ª–∞–º–µ–Ω–∏
- `ScoreDisplay` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ö–æ–¥–æ–≤ –∏ –∫–æ–º–±–æ
- `MessageDisplay` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–∏ Flame –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –í –ø—Ä–∏–º–µ—Ä–µ –ø–æ–∫–∞–∑–∞–Ω–æ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å UI –ø—Ä–æ—â–µ —á–µ—Ä–µ–∑ –æ–±—ã—á–Ω—ã–µ Flutter –≤–∏–¥–∂–µ—Ç—ã.

## –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –¢–∞–ø–∞–π—Ç–µ –Ω–∞ –∫–∞–º–µ–Ω—å –¥–ª—è –≤—ã–±–æ—Ä–∞
- –¢–∞–ø–∞–π—Ç–µ –Ω–∞ —Å–æ—Å–µ–¥–Ω–∏–π –∫–∞–º–µ–Ω—å –¥–ª—è –æ–±–º–µ–Ω–∞
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–∞–π–ø—ã –¥–ª—è –æ–±–º–µ–Ω–∞

### –û—á–∫–∏
- 3 –∫–∞–º–Ω—è = 10 –æ—á–∫–æ–≤ √ó –∫–æ–º–±–æ
- 4 –∫–∞–º–Ω—è = 40 –æ—á–∫–æ–≤ √ó –∫–æ–º–±–æ (+ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–∞–º–µ–Ω—å)
- 5+ –∫–∞–º–Ω–µ–π = 50+ –æ—á–∫–æ–≤ √ó –∫–æ–º–±–æ (+ –±–æ–º–±–∞)

### –ö–æ–º–±–æ
–ú–Ω–æ–∂–∏—Ç–µ–ª—å —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –¥–æ x5 –ø—Ä–∏ —Ü–µ–ø–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏—è—Ö

### –†–µ–∂–∏–º—ã –∏–≥—Ä—ã
–í—ã —Å–∞–º–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `timeLimit` –∏ `targetScore`:
- **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π**: `timeLimit: 60.0`, `targetScore: 1000` - –Ω–∞–±—Ä–∞—Ç—å 1000 –æ—á–∫–æ–≤ –∑–∞ 60 —Å–µ–∫—É–Ω–¥
- **–ù–∞ –≤—Ä–µ–º—è**: `timeLimit: 120.0`, `targetScore: null` - –Ω–∞–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º –æ—á–∫–æ–≤ –∑–∞ 2 –º–∏–Ω—É—Ç—ã
- **–ù–∞ –æ—á–∫–∏**: `timeLimit: null`, `targetScore: 5000` - –Ω–∞–±—Ä–∞—Ç—å 5000 –æ—á–∫–æ–≤ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
- **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π**: `timeLimit: null`, `targetScore: null` - –∏–≥—Ä–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Flutter SDK: >=3.8.0
- Dart SDK: >=3.8.0
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
  - flame: ^1.32.0
  - flame_svg: ^1.11.16

## –ü—Ä–∏–º–µ—Ä

–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –ø–∞–ø–∫–µ `example/`.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–º–µ—Ä–∞:

```bash
cd example
flutter run
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è Flutter —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã

### –ú–µ–Ω—é
- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
- –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω

### –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å
- –î–∏–Ω–∞–º–∏—á–Ω—ã–π –≥–µ–π–º–ø–ª–µ–π
- –ö—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ —Ç–∞–π–º–µ—Ä
- –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–±–æ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å—á–µ—Ç–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö–æ–¥–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

–ü–∞–∫–µ—Ç –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è:
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–∞–º–Ω–µ–π
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã
- –†–∞–∑–ª–∏—á–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∫–æ—Ä–¥–æ–≤

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
